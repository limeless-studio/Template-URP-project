{
    "m_SGVersion": 3,
    "m_Type": "UnityEditor.ShaderGraph.GraphData",
    "m_ObjectId": "e4a4f43d55494bfd86a450ced50bcada",
    "m_Properties": [
        {
            "m_Id": "e8006007a5474972b792d2b874dd94d4"
        },
        {
            "m_Id": "bf61464b7a254f179ad75736165442d5"
        },
        {
            "m_Id": "0848326c261543bebc96c8e25303f61b"
        },
        {
            "m_Id": "34455e008f9e4fe4ac3554057885da05"
        },
        {
            "m_Id": "3151f97111db43df84090b7384b49e85"
        }
    ],
    "m_Keywords": [],
    "m_Dropdowns": [],
    "m_CategoryData": [
        {
            "m_Id": "aa30e73e122544349bb37cc20b440bbc"
        }
    ],
    "m_Nodes": [
        {
            "m_Id": "63608a27a14e4818ae1b2a685014b953"
        },
        {
            "m_Id": "b8dfb0f8dab84f3384b09d35f163523e"
        },
        {
            "m_Id": "315009dfe8d942eda156247eac3cc4da"
        },
        {
            "m_Id": "cb7ce40eaf5d4444923c9e3777573e8f"
        },
        {
            "m_Id": "cb2f0c6496b34f1aa046993c04d1edb2"
        },
        {
            "m_Id": "189f8a69c66d42cc91b234ea7c0ddc87"
        },
        {
            "m_Id": "6babb331017943ce990f8cbb1aa3f7a2"
        },
        {
            "m_Id": "917269584fb7401ba20e12c7d4159c11"
        },
        {
            "m_Id": "b7928df8c23c495eb47eafdaddc75681"
        },
        {
            "m_Id": "b8660f63fddd44f4ae3f5ce95c7a0c95"
        },
        {
            "m_Id": "3206045de38a49cda80d79fc4efbd9d5"
        },
        {
            "m_Id": "71545e0cc6e9455c99d28a304488d9cf"
        }
    ],
    "m_GroupDatas": [],
    "m_StickyNoteDatas": [],
    "m_Edges": [
        {
            "m_OutputSlot": {
                "m_Node": {
                    "m_Id": "189f8a69c66d42cc91b234ea7c0ddc87"
                },
                "m_SlotId": 0
            },
            "m_InputSlot": {
                "m_Node": {
                    "m_Id": "b8dfb0f8dab84f3384b09d35f163523e"
                },
                "m_SlotId": 1
            }
        },
        {
            "m_OutputSlot": {
                "m_Node": {
                    "m_Id": "315009dfe8d942eda156247eac3cc4da"
                },
                "m_SlotId": 0
            },
            "m_InputSlot": {
                "m_Node": {
                    "m_Id": "b8dfb0f8dab84f3384b09d35f163523e"
                },
                "m_SlotId": 4
            }
        },
        {
            "m_OutputSlot": {
                "m_Node": {
                    "m_Id": "3206045de38a49cda80d79fc4efbd9d5"
                },
                "m_SlotId": 0
            },
            "m_InputSlot": {
                "m_Node": {
                    "m_Id": "917269584fb7401ba20e12c7d4159c11"
                },
                "m_SlotId": 2
            }
        },
        {
            "m_OutputSlot": {
                "m_Node": {
                    "m_Id": "6babb331017943ce990f8cbb1aa3f7a2"
                },
                "m_SlotId": 0
            },
            "m_InputSlot": {
                "m_Node": {
                    "m_Id": "b8dfb0f8dab84f3384b09d35f163523e"
                },
                "m_SlotId": 0
            }
        },
        {
            "m_OutputSlot": {
                "m_Node": {
                    "m_Id": "71545e0cc6e9455c99d28a304488d9cf"
                },
                "m_SlotId": 0
            },
            "m_InputSlot": {
                "m_Node": {
                    "m_Id": "917269584fb7401ba20e12c7d4159c11"
                },
                "m_SlotId": 3
            }
        },
        {
            "m_OutputSlot": {
                "m_Node": {
                    "m_Id": "917269584fb7401ba20e12c7d4159c11"
                },
                "m_SlotId": 5
            },
            "m_InputSlot": {
                "m_Node": {
                    "m_Id": "63608a27a14e4818ae1b2a685014b953"
                },
                "m_SlotId": 1
            }
        },
        {
            "m_OutputSlot": {
                "m_Node": {
                    "m_Id": "b7928df8c23c495eb47eafdaddc75681"
                },
                "m_SlotId": 0
            },
            "m_InputSlot": {
                "m_Node": {
                    "m_Id": "917269584fb7401ba20e12c7d4159c11"
                },
                "m_SlotId": 0
            }
        },
        {
            "m_OutputSlot": {
                "m_Node": {
                    "m_Id": "b8660f63fddd44f4ae3f5ce95c7a0c95"
                },
                "m_SlotId": 0
            },
            "m_InputSlot": {
                "m_Node": {
                    "m_Id": "917269584fb7401ba20e12c7d4159c11"
                },
                "m_SlotId": 1
            }
        },
        {
            "m_OutputSlot": {
                "m_Node": {
                    "m_Id": "cb2f0c6496b34f1aa046993c04d1edb2"
                },
                "m_SlotId": 0
            },
            "m_InputSlot": {
                "m_Node": {
                    "m_Id": "b8dfb0f8dab84f3384b09d35f163523e"
                },
                "m_SlotId": 2
            }
        },
        {
            "m_OutputSlot": {
                "m_Node": {
                    "m_Id": "cb7ce40eaf5d4444923c9e3777573e8f"
                },
                "m_SlotId": 0
            },
            "m_InputSlot": {
                "m_Node": {
                    "m_Id": "b8dfb0f8dab84f3384b09d35f163523e"
                },
                "m_SlotId": 3
            }
        }
    ],
    "m_VertexContext": {
        "m_Position": {
            "x": 0.0,
            "y": 0.0
        },
        "m_Blocks": []
    },
    "m_FragmentContext": {
        "m_Position": {
            "x": 0.0,
            "y": 0.0
        },
        "m_Blocks": []
    },
    "m_PreviewData": {
        "serializedMesh": {
            "m_SerializedMesh": "{\"mesh\":{\"instanceID\":0}}",
            "m_Guid": ""
        },
        "preventRotation": false
    },
    "m_Path": "Sub Graphs",
    "m_GraphPrecision": 1,
    "m_PreviewMode": 2,
    "m_OutputNode": {
        "m_Id": "63608a27a14e4818ae1b2a685014b953"
    },
    "m_ActiveTargets": []
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.Internal.Texture2DShaderProperty",
    "m_ObjectId": "0848326c261543bebc96c8e25303f61b",
    "m_Guid": {
        "m_GuidSerialized": "3477da1b-29a6-4c58-a621-67efac3b13cc"
    },
    "m_Name": "HeightTex",
    "m_DefaultRefNameVersion": 1,
    "m_RefNameGeneratedByDisplayName": "HeightTex",
    "m_DefaultReferenceName": "_HeightTex",
    "m_OverrideReferenceName": "",
    "m_GeneratePropertyBlock": true,
    "m_UseCustomSlotLabel": false,
    "m_CustomSlotLabel": "",
    "m_DismissedVersion": 0,
    "m_Precision": 0,
    "overrideHLSLDeclaration": false,
    "hlslDeclarationOverride": 0,
    "m_Hidden": false,
    "m_Value": {
        "m_SerializedTexture": "{\"texture\":{\"instanceID\":0}}",
        "m_Guid": ""
    },
    "isMainTexture": false,
    "useTilingAndOffset": false,
    "m_Modifiable": true,
    "m_DefaultType": 0
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.PropertyNode",
    "m_ObjectId": "189f8a69c66d42cc91b234ea7c0ddc87",
    "m_Group": {
        "m_Id": ""
    },
    "m_Name": "Property",
    "m_DrawState": {
        "m_Expanded": true,
        "m_Position": {
            "serializedVersion": "2",
            "x": -669.0,
            "y": -38.0,
            "width": 116.0,
            "height": 34.0
        }
    },
    "m_Slots": [
        {
            "m_Id": "511f39a7d7cf4ce3a153c34f2641c736"
        }
    ],
    "synonyms": [],
    "m_Precision": 0,
    "m_PreviewExpanded": true,
    "m_DismissedVersion": 0,
    "m_PreviewMode": 0,
    "m_CustomColors": {
        "m_SerializableColors": []
    },
    "m_Property": {
        "m_Id": "bf61464b7a254f179ad75736165442d5"
    }
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.Vector1MaterialSlot",
    "m_ObjectId": "1e1df41ea1804053a036b99c2afaba50",
    "m_Id": 0,
    "m_DisplayName": "heightScale",
    "m_SlotType": 1,
    "m_Hidden": false,
    "m_ShaderOutputName": "Out",
    "m_StageCapability": 3,
    "m_Value": 0.0,
    "m_DefaultValue": 0.0,
    "m_Labels": []
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.Texture2DMaterialSlot",
    "m_ObjectId": "29375788ea3b41f1b2c7ec59e4a89b24",
    "m_Id": 0,
    "m_DisplayName": "HeightTex",
    "m_SlotType": 1,
    "m_Hidden": false,
    "m_ShaderOutputName": "Out",
    "m_StageCapability": 3,
    "m_BareResource": false
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.PropertyNode",
    "m_ObjectId": "315009dfe8d942eda156247eac3cc4da",
    "m_Group": {
        "m_Id": ""
    },
    "m_Name": "Property",
    "m_DrawState": {
        "m_Expanded": true,
        "m_Position": {
            "serializedVersion": "2",
            "x": -679.0,
            "y": 139.0,
            "width": 149.0,
            "height": 34.0
        }
    },
    "m_Slots": [
        {
            "m_Id": "f5c40879f9ea4b1092798a2a2f2badca"
        }
    ],
    "synonyms": [],
    "m_Precision": 0,
    "m_PreviewExpanded": true,
    "m_DismissedVersion": 0,
    "m_PreviewMode": 0,
    "m_CustomColors": {
        "m_SerializableColors": []
    },
    "m_Property": {
        "m_Id": "3151f97111db43df84090b7384b49e85"
    }
}

{
    "m_SGVersion": 1,
    "m_Type": "UnityEditor.ShaderGraph.SamplerStateShaderProperty",
    "m_ObjectId": "3151f97111db43df84090b7384b49e85",
    "m_Guid": {
        "m_GuidSerialized": "393e811c-dfeb-4ca5-8045-fd9ceb9664d1"
    },
    "m_Name": "sampleState",
    "m_DefaultRefNameVersion": 1,
    "m_RefNameGeneratedByDisplayName": "sampleState",
    "m_DefaultReferenceName": "sampleState",
    "m_OverrideReferenceName": "",
    "m_GeneratePropertyBlock": false,
    "m_UseCustomSlotLabel": false,
    "m_CustomSlotLabel": "",
    "m_DismissedVersion": 0,
    "m_Precision": 0,
    "overrideHLSLDeclaration": false,
    "hlslDeclarationOverride": 0,
    "m_Hidden": false,
    "m_Value": {
        "m_filter": 0,
        "m_wrap": 0,
        "m_anisotropic": 0
    }
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.PropertyNode",
    "m_ObjectId": "3206045de38a49cda80d79fc4efbd9d5",
    "m_Group": {
        "m_Id": ""
    },
    "m_Name": "Property",
    "m_DrawState": {
        "m_Expanded": true,
        "m_Position": {
            "serializedVersion": "2",
            "x": -769.0,
            "y": 583.0,
            "width": 138.0,
            "height": 34.0
        }
    },
    "m_Slots": [
        {
            "m_Id": "29375788ea3b41f1b2c7ec59e4a89b24"
        }
    ],
    "synonyms": [],
    "m_Precision": 0,
    "m_PreviewExpanded": true,
    "m_DismissedVersion": 0,
    "m_PreviewMode": 0,
    "m_CustomColors": {
        "m_SerializableColors": []
    },
    "m_Property": {
        "m_Id": "0848326c261543bebc96c8e25303f61b"
    }
}

{
    "m_SGVersion": 1,
    "m_Type": "UnityEditor.ShaderGraph.Internal.Vector2ShaderProperty",
    "m_ObjectId": "34455e008f9e4fe4ac3554057885da05",
    "m_Guid": {
        "m_GuidSerialized": "1b745a3c-0735-4dd4-a2aa-4aa918ef3ec4"
    },
    "m_Name": "uv",
    "m_DefaultRefNameVersion": 1,
    "m_RefNameGeneratedByDisplayName": "uv",
    "m_DefaultReferenceName": "_uv",
    "m_OverrideReferenceName": "",
    "m_GeneratePropertyBlock": true,
    "m_UseCustomSlotLabel": false,
    "m_CustomSlotLabel": "",
    "m_DismissedVersion": 0,
    "m_Precision": 0,
    "overrideHLSLDeclaration": false,
    "hlslDeclarationOverride": 0,
    "m_Hidden": false,
    "m_Value": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0,
        "w": 0.0
    }
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.Texture2DInputMaterialSlot",
    "m_ObjectId": "3c0988b978c44308a5699130afce22b4",
    "m_Id": 2,
    "m_DisplayName": "HeightTex",
    "m_SlotType": 0,
    "m_Hidden": false,
    "m_ShaderOutputName": "HeightTex",
    "m_StageCapability": 3,
    "m_BareResource": false,
    "m_Texture": {
        "m_SerializedTexture": "{\"texture\":{\"instanceID\":0}}",
        "m_Guid": ""
    },
    "m_DefaultType": 0
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.SamplerStateMaterialSlot",
    "m_ObjectId": "4598680e067f4a76a8d5ba4980d5c85a",
    "m_Id": 4,
    "m_DisplayName": "sampleState",
    "m_SlotType": 0,
    "m_Hidden": false,
    "m_ShaderOutputName": "sampleState",
    "m_StageCapability": 3,
    "m_BareResource": false
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.Vector3MaterialSlot",
    "m_ObjectId": "486bca51ed924dc09316a4b5bc0a2c25",
    "m_Id": 1,
    "m_DisplayName": "viewDir_tangent",
    "m_SlotType": 0,
    "m_Hidden": false,
    "m_ShaderOutputName": "viewDir_tangent",
    "m_StageCapability": 3,
    "m_Value": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
    },
    "m_DefaultValue": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
    },
    "m_Labels": []
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.Vector3MaterialSlot",
    "m_ObjectId": "511f39a7d7cf4ce3a153c34f2641c736",
    "m_Id": 0,
    "m_DisplayName": "viewDir",
    "m_SlotType": 1,
    "m_Hidden": false,
    "m_ShaderOutputName": "Out",
    "m_StageCapability": 3,
    "m_Value": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
    },
    "m_DefaultValue": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
    },
    "m_Labels": []
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.Vector2MaterialSlot",
    "m_ObjectId": "5d5ef99f1afe4a3fa52d0727c269d28b",
    "m_Id": 5,
    "m_DisplayName": "Out",
    "m_SlotType": 1,
    "m_Hidden": false,
    "m_ShaderOutputName": "Out",
    "m_StageCapability": 3,
    "m_Value": {
        "x": 0.0,
        "y": 0.0
    },
    "m_DefaultValue": {
        "x": 0.0,
        "y": 0.0
    },
    "m_Labels": []
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.SubGraphOutputNode",
    "m_ObjectId": "63608a27a14e4818ae1b2a685014b953",
    "m_Group": {
        "m_Id": ""
    },
    "m_Name": "Output",
    "m_DrawState": {
        "m_Expanded": true,
        "m_Position": {
            "serializedVersion": "2",
            "x": -133.00003051757813,
            "y": -38.00001907348633,
            "width": 120.9999771118164,
            "height": 77.00001525878906
        }
    },
    "m_Slots": [
        {
            "m_Id": "fcd8fafae89a48ba85b4a98c2f27077e"
        }
    ],
    "synonyms": [],
    "m_Precision": 0,
    "m_PreviewExpanded": true,
    "m_DismissedVersion": 0,
    "m_PreviewMode": 0,
    "m_CustomColors": {
        "m_SerializableColors": []
    },
    "IsFirstSlotValid": true
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.Vector2MaterialSlot",
    "m_ObjectId": "67196f25a6f34e24832374caa3612a43",
    "m_Id": 3,
    "m_DisplayName": "uv",
    "m_SlotType": 0,
    "m_Hidden": false,
    "m_ShaderOutputName": "uv",
    "m_StageCapability": 3,
    "m_Value": {
        "x": 0.0,
        "y": 0.0
    },
    "m_DefaultValue": {
        "x": 0.0,
        "y": 0.0
    },
    "m_Labels": []
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.PropertyNode",
    "m_ObjectId": "6babb331017943ce990f8cbb1aa3f7a2",
    "m_Group": {
        "m_Id": ""
    },
    "m_Name": "Property",
    "m_DrawState": {
        "m_Expanded": true,
        "m_Position": {
            "serializedVersion": "2",
            "x": -679.0,
            "y": -88.0,
            "width": 137.0,
            "height": 34.0
        }
    },
    "m_Slots": [
        {
            "m_Id": "1e1df41ea1804053a036b99c2afaba50"
        }
    ],
    "synonyms": [],
    "m_Precision": 0,
    "m_PreviewExpanded": true,
    "m_DismissedVersion": 0,
    "m_PreviewMode": 0,
    "m_CustomColors": {
        "m_SerializableColors": []
    },
    "m_Property": {
        "m_Id": "e8006007a5474972b792d2b874dd94d4"
    }
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.Vector1MaterialSlot",
    "m_ObjectId": "6f32a77afc3343b48cac5a67a6213f91",
    "m_Id": 6,
    "m_DisplayName": "_MaxLayerNum",
    "m_SlotType": 0,
    "m_Hidden": false,
    "m_ShaderOutputName": "_MaxLayerNum",
    "m_StageCapability": 3,
    "m_Value": 60.0,
    "m_DefaultValue": 0.0,
    "m_Labels": []
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.Texture2DMaterialSlot",
    "m_ObjectId": "703291df897c40cbbe11ae783c1967d7",
    "m_Id": 0,
    "m_DisplayName": "HeightTex",
    "m_SlotType": 1,
    "m_Hidden": false,
    "m_ShaderOutputName": "Out",
    "m_StageCapability": 3,
    "m_BareResource": false
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.PropertyNode",
    "m_ObjectId": "71545e0cc6e9455c99d28a304488d9cf",
    "m_Group": {
        "m_Id": ""
    },
    "m_Name": "Property",
    "m_DrawState": {
        "m_Expanded": true,
        "m_Position": {
            "serializedVersion": "2",
            "x": -602.284912109375,
            "y": 650.2835693359375,
            "width": 0.0,
            "height": 0.0
        }
    },
    "m_Slots": [
        {
            "m_Id": "859cc410f5c94a049d3c14b9cc07dc83"
        }
    ],
    "synonyms": [],
    "m_Precision": 0,
    "m_PreviewExpanded": true,
    "m_DismissedVersion": 0,
    "m_PreviewMode": 0,
    "m_CustomColors": {
        "m_SerializableColors": []
    },
    "m_Property": {
        "m_Id": "34455e008f9e4fe4ac3554057885da05"
    }
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.Vector2MaterialSlot",
    "m_ObjectId": "7a5dff691ae049c38bc30fb2b99c2ae3",
    "m_Id": 0,
    "m_DisplayName": "uv",
    "m_SlotType": 1,
    "m_Hidden": false,
    "m_ShaderOutputName": "Out",
    "m_StageCapability": 3,
    "m_Value": {
        "x": 0.0,
        "y": 0.0
    },
    "m_DefaultValue": {
        "x": 0.0,
        "y": 0.0
    },
    "m_Labels": []
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.Vector2MaterialSlot",
    "m_ObjectId": "851c9efbca2544db93152c23c1aab045",
    "m_Id": 5,
    "m_DisplayName": "Out",
    "m_SlotType": 1,
    "m_Hidden": false,
    "m_ShaderOutputName": "Out",
    "m_StageCapability": 3,
    "m_Value": {
        "x": 0.0,
        "y": 0.0
    },
    "m_DefaultValue": {
        "x": 0.0,
        "y": 0.0
    },
    "m_Labels": []
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.Vector2MaterialSlot",
    "m_ObjectId": "859cc410f5c94a049d3c14b9cc07dc83",
    "m_Id": 0,
    "m_DisplayName": "uv",
    "m_SlotType": 1,
    "m_Hidden": false,
    "m_ShaderOutputName": "Out",
    "m_StageCapability": 3,
    "m_Value": {
        "x": 0.0,
        "y": 0.0
    },
    "m_DefaultValue": {
        "x": 0.0,
        "y": 0.0
    },
    "m_Labels": []
}

{
    "m_SGVersion": 1,
    "m_Type": "UnityEditor.ShaderGraph.CustomFunctionNode",
    "m_ObjectId": "917269584fb7401ba20e12c7d4159c11",
    "m_Group": {
        "m_Id": ""
    },
    "m_Name": "ParalaxEffect (Custom Function)",
    "m_DrawState": {
        "m_Expanded": true,
        "m_Position": {
            "serializedVersion": "2",
            "x": -452.0,
            "y": 433.0000305175781,
            "width": 231.0,
            "height": 374.0000305175781
        }
    },
    "m_Slots": [
        {
            "m_Id": "6f32a77afc3343b48cac5a67a6213f91"
        },
        {
            "m_Id": "b95f6cf8bee54bafbcbfe6ff7187b48f"
        },
        {
            "m_Id": "e78b2e6cdd3b44abb38255903a3557a9"
        },
        {
            "m_Id": "486bca51ed924dc09316a4b5bc0a2c25"
        },
        {
            "m_Id": "c50785b3e92345629486f482edb2cf47"
        },
        {
            "m_Id": "ea80636abd1b481f96008d2b02826487"
        },
        {
            "m_Id": "5d5ef99f1afe4a3fa52d0727c269d28b"
        }
    ],
    "synonyms": [
        "code",
        "HLSL"
    ],
    "m_Precision": 0,
    "m_PreviewExpanded": true,
    "m_DismissedVersion": 0,
    "m_PreviewMode": 0,
    "m_CustomColors": {
        "m_SerializableColors": []
    },
    "m_SourceType": 1,
    "m_FunctionName": "ParalaxEffect",
    "m_FunctionSource": "d06ab311c0be44a8a0dbfbdac702a913",
    "m_FunctionBody": "{\r\n    float layerNum = lerp(_MaxLayerNum, _MinLayerNum, abs(dot(float3(0,0,1), viewDir_tangent))); //垂直时用更少的样本\r\n    float layerDepth = 1.0 / layerNum;\r\n    float currentLayerDepth = 0.0;\r\n    float2 deltaTexCoords = viewDir_tangent.xy / viewDir_tangent.z * heightScale / layerNum;\r\n\r\n    float2 currentTexCoords = uv;\r\n    float currentDepthMapValue = tex2D(_DepthMap, currentTexCoords).r;\r\n\r\n    //unable to unroll loop, loop does not appear to terminate in a timely manner\r\n    //上面这个错误是在循环内使用tex2D导致的，需要加上unroll来限制循环次数或者改用tex2Dlod\r\n    // [unroll(100)]\r\n    while(currentLayerDepth < currentDepthMapValue)\r\n    {\r\n        currentTexCoords -= deltaTexCoords;\r\n        // currentDepthMapValue = tex2D(_DepthMap, currentTexCoords).r;\r\n        currentDepthMapValue = tex2Dlod(_DepthMap, float4(currentTexCoords, 0, 0)).r;\r\n        currentLayerDepth += layerDepth;\r\n    }\r\n\r\n    float2 prevTexCoords = currentTexCoords + deltaTexCoords;\r\n    float prevLayerDepth = currentLayerDepth - layerDepth;\r\n\r\n    float afterDepth = currentDepthMapValue - currentLayerDepth;\r\n    float beforeDepth = tex2D(_DepthMap, prevTexCoords).r - prevLayerDepth;\r\n    float weight = afterDepth / (afterDepth - beforeDepth);\r\n    float2 finalTexCoords = prevTexCoords * weight + currentTexCoords * (1.0 - weight);\r\n\r\n    Out = finalTexCoords;\r\n}"
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.CategoryData",
    "m_ObjectId": "aa30e73e122544349bb37cc20b440bbc",
    "m_Name": "",
    "m_ChildObjectList": [
        {
            "m_Id": "e8006007a5474972b792d2b874dd94d4"
        },
        {
            "m_Id": "bf61464b7a254f179ad75736165442d5"
        },
        {
            "m_Id": "0848326c261543bebc96c8e25303f61b"
        },
        {
            "m_Id": "34455e008f9e4fe4ac3554057885da05"
        },
        {
            "m_Id": "3151f97111db43df84090b7384b49e85"
        }
    ]
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.Vector3MaterialSlot",
    "m_ObjectId": "b43d20f8dbab48b89a896d0cb964d591",
    "m_Id": 1,
    "m_DisplayName": "viewDir",
    "m_SlotType": 0,
    "m_Hidden": false,
    "m_ShaderOutputName": "viewDir",
    "m_StageCapability": 3,
    "m_Value": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
    },
    "m_DefaultValue": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
    },
    "m_Labels": []
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.PropertyNode",
    "m_ObjectId": "b7928df8c23c495eb47eafdaddc75681",
    "m_Group": {
        "m_Id": ""
    },
    "m_Name": "Property",
    "m_DrawState": {
        "m_Expanded": true,
        "m_Position": {
            "serializedVersion": "2",
            "x": -737.0,
            "y": 500.0,
            "width": 137.0,
            "height": 34.0
        }
    },
    "m_Slots": [
        {
            "m_Id": "dceee7e762c84bd1b7e9e5b732e10299"
        }
    ],
    "synonyms": [],
    "m_Precision": 0,
    "m_PreviewExpanded": true,
    "m_DismissedVersion": 0,
    "m_PreviewMode": 0,
    "m_CustomColors": {
        "m_SerializableColors": []
    },
    "m_Property": {
        "m_Id": "e8006007a5474972b792d2b874dd94d4"
    }
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.PropertyNode",
    "m_ObjectId": "b8660f63fddd44f4ae3f5ce95c7a0c95",
    "m_Group": {
        "m_Id": ""
    },
    "m_Name": "Property",
    "m_DrawState": {
        "m_Expanded": true,
        "m_Position": {
            "serializedVersion": "2",
            "x": -769.0,
            "y": 539.0,
            "width": 116.0,
            "height": 34.0
        }
    },
    "m_Slots": [
        {
            "m_Id": "b8f2f911b85a480e9178533cf0a0d322"
        }
    ],
    "synonyms": [],
    "m_Precision": 0,
    "m_PreviewExpanded": true,
    "m_DismissedVersion": 0,
    "m_PreviewMode": 0,
    "m_CustomColors": {
        "m_SerializableColors": []
    },
    "m_Property": {
        "m_Id": "bf61464b7a254f179ad75736165442d5"
    }
}

{
    "m_SGVersion": 1,
    "m_Type": "UnityEditor.ShaderGraph.CustomFunctionNode",
    "m_ObjectId": "b8dfb0f8dab84f3384b09d35f163523e",
    "m_Group": {
        "m_Id": ""
    },
    "m_Name": "ParalaxEffect (Custom Function)",
    "m_DrawState": {
        "m_Expanded": true,
        "m_Position": {
            "serializedVersion": "2",
            "x": -452.0,
            "y": -38.0,
            "width": 231.0,
            "height": 374.0
        }
    },
    "m_Slots": [
        {
            "m_Id": "bd2fd23f4f774f9a99d5c60f6aa05652"
        },
        {
            "m_Id": "b43d20f8dbab48b89a896d0cb964d591"
        },
        {
            "m_Id": "3c0988b978c44308a5699130afce22b4"
        },
        {
            "m_Id": "67196f25a6f34e24832374caa3612a43"
        },
        {
            "m_Id": "4598680e067f4a76a8d5ba4980d5c85a"
        },
        {
            "m_Id": "851c9efbca2544db93152c23c1aab045"
        }
    ],
    "synonyms": [
        "code",
        "HLSL"
    ],
    "m_Precision": 0,
    "m_PreviewExpanded": true,
    "m_DismissedVersion": 0,
    "m_PreviewMode": 0,
    "m_CustomColors": {
        "m_SerializableColors": []
    },
    "m_SourceType": 1,
    "m_FunctionName": "ParalaxEffect",
    "m_FunctionSource": "",
    "m_FunctionBody": "\r\n{\r\n  // determine required number of layers\r\n  const float minLayers = 30;\r\n  const float maxLayers = 60;\r\n  float numLayers = lerp(maxLayers, minLayers, abs(dot(float3(0, 0, 1), viewDir)));\r\n\r\n  float numSteps = numLayers;//60.0f; // How many steps the UV ray tracing should take\r\n  float height = 1.0;\r\n  float step = 1.0 / numSteps;\r\n  \r\n  float2 offset = uv.xy;\r\n  float4 HeightMap = HeightTex.Sample(sampleState, offset);\r\n  \r\n  float2 delta = viewDir.xy * heightScale / (viewDir.z * numSteps);\r\n  \r\n  // find UV offset\r\n  for (float i = 0.0f; i < numSteps; i++) {\r\n    if (HeightMap.r < height) {\r\n      height -= step;\r\n      offset += delta;\r\n      HeightMap = HeightTex.Sample(sampleState, offset);\r\n    } else {\r\n      break;\r\n    }\r\n  }\r\n  Out = offset;\r\n}"
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.Vector3MaterialSlot",
    "m_ObjectId": "b8f2f911b85a480e9178533cf0a0d322",
    "m_Id": 0,
    "m_DisplayName": "viewDir",
    "m_SlotType": 1,
    "m_Hidden": false,
    "m_ShaderOutputName": "Out",
    "m_StageCapability": 3,
    "m_Value": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
    },
    "m_DefaultValue": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
    },
    "m_Labels": []
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.Vector1MaterialSlot",
    "m_ObjectId": "b95f6cf8bee54bafbcbfe6ff7187b48f",
    "m_Id": 7,
    "m_DisplayName": "_MinLayerNum",
    "m_SlotType": 0,
    "m_Hidden": false,
    "m_ShaderOutputName": "_MinLayerNum",
    "m_StageCapability": 3,
    "m_Value": 30.0,
    "m_DefaultValue": 0.0,
    "m_Labels": []
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.Vector1MaterialSlot",
    "m_ObjectId": "bd2fd23f4f774f9a99d5c60f6aa05652",
    "m_Id": 0,
    "m_DisplayName": "heightScale",
    "m_SlotType": 0,
    "m_Hidden": false,
    "m_ShaderOutputName": "heightScale",
    "m_StageCapability": 3,
    "m_Value": 0.0,
    "m_DefaultValue": 0.0,
    "m_Labels": []
}

{
    "m_SGVersion": 1,
    "m_Type": "UnityEditor.ShaderGraph.Internal.Vector3ShaderProperty",
    "m_ObjectId": "bf61464b7a254f179ad75736165442d5",
    "m_Guid": {
        "m_GuidSerialized": "999fc989-db6f-49cf-b8fa-790165f4381a"
    },
    "m_Name": "viewDir",
    "m_DefaultRefNameVersion": 1,
    "m_RefNameGeneratedByDisplayName": "viewDir",
    "m_DefaultReferenceName": "_viewDir",
    "m_OverrideReferenceName": "",
    "m_GeneratePropertyBlock": true,
    "m_UseCustomSlotLabel": false,
    "m_CustomSlotLabel": "",
    "m_DismissedVersion": 0,
    "m_Precision": 0,
    "overrideHLSLDeclaration": false,
    "hlslDeclarationOverride": 0,
    "m_Hidden": false,
    "m_Value": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0,
        "w": 0.0
    }
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.Texture2DInputMaterialSlot",
    "m_ObjectId": "c50785b3e92345629486f482edb2cf47",
    "m_Id": 2,
    "m_DisplayName": "_DepthMap",
    "m_SlotType": 0,
    "m_Hidden": false,
    "m_ShaderOutputName": "_DepthMap",
    "m_StageCapability": 3,
    "m_BareResource": false,
    "m_Texture": {
        "m_SerializedTexture": "{\"texture\":{\"instanceID\":0}}",
        "m_Guid": ""
    },
    "m_DefaultType": 0
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.PropertyNode",
    "m_ObjectId": "cb2f0c6496b34f1aa046993c04d1edb2",
    "m_Group": {
        "m_Id": ""
    },
    "m_Name": "Property",
    "m_DrawState": {
        "m_Expanded": true,
        "m_Position": {
            "serializedVersion": "2",
            "x": -691.0,
            "y": 23.0,
            "width": 138.0,
            "height": 34.0
        }
    },
    "m_Slots": [
        {
            "m_Id": "703291df897c40cbbe11ae783c1967d7"
        }
    ],
    "synonyms": [],
    "m_Precision": 0,
    "m_PreviewExpanded": true,
    "m_DismissedVersion": 0,
    "m_PreviewMode": 0,
    "m_CustomColors": {
        "m_SerializableColors": []
    },
    "m_Property": {
        "m_Id": "0848326c261543bebc96c8e25303f61b"
    }
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.PropertyNode",
    "m_ObjectId": "cb7ce40eaf5d4444923c9e3777573e8f",
    "m_Group": {
        "m_Id": ""
    },
    "m_Name": "Property",
    "m_DrawState": {
        "m_Expanded": true,
        "m_Position": {
            "serializedVersion": "2",
            "x": -655.0,
            "y": 76.0,
            "width": 90.0,
            "height": 34.0
        }
    },
    "m_Slots": [
        {
            "m_Id": "7a5dff691ae049c38bc30fb2b99c2ae3"
        }
    ],
    "synonyms": [],
    "m_Precision": 0,
    "m_PreviewExpanded": true,
    "m_DismissedVersion": 0,
    "m_PreviewMode": 0,
    "m_CustomColors": {
        "m_SerializableColors": []
    },
    "m_Property": {
        "m_Id": "34455e008f9e4fe4ac3554057885da05"
    }
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.Vector1MaterialSlot",
    "m_ObjectId": "dceee7e762c84bd1b7e9e5b732e10299",
    "m_Id": 0,
    "m_DisplayName": "heightScale",
    "m_SlotType": 1,
    "m_Hidden": false,
    "m_ShaderOutputName": "Out",
    "m_StageCapability": 3,
    "m_Value": 0.0,
    "m_DefaultValue": 0.0,
    "m_Labels": []
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.Vector1MaterialSlot",
    "m_ObjectId": "e78b2e6cdd3b44abb38255903a3557a9",
    "m_Id": 0,
    "m_DisplayName": "heightScale",
    "m_SlotType": 0,
    "m_Hidden": false,
    "m_ShaderOutputName": "heightScale",
    "m_StageCapability": 3,
    "m_Value": 0.0,
    "m_DefaultValue": 0.0,
    "m_Labels": []
}

{
    "m_SGVersion": 1,
    "m_Type": "UnityEditor.ShaderGraph.Internal.Vector1ShaderProperty",
    "m_ObjectId": "e8006007a5474972b792d2b874dd94d4",
    "m_Guid": {
        "m_GuidSerialized": "374fafd3-0cda-4290-86cc-8df9f37ddbd3"
    },
    "m_Name": "heightScale",
    "m_DefaultRefNameVersion": 1,
    "m_RefNameGeneratedByDisplayName": "heightScale",
    "m_DefaultReferenceName": "_heightScale",
    "m_OverrideReferenceName": "",
    "m_GeneratePropertyBlock": true,
    "m_UseCustomSlotLabel": false,
    "m_CustomSlotLabel": "",
    "m_DismissedVersion": 0,
    "m_Precision": 0,
    "overrideHLSLDeclaration": false,
    "hlslDeclarationOverride": 0,
    "m_Hidden": false,
    "m_Value": 0.0,
    "m_FloatType": 0,
    "m_RangeValues": {
        "x": 0.0,
        "y": 1.0
    }
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.Vector2MaterialSlot",
    "m_ObjectId": "ea80636abd1b481f96008d2b02826487",
    "m_Id": 3,
    "m_DisplayName": "uv",
    "m_SlotType": 0,
    "m_Hidden": false,
    "m_ShaderOutputName": "uv",
    "m_StageCapability": 3,
    "m_Value": {
        "x": 0.0,
        "y": 0.0
    },
    "m_DefaultValue": {
        "x": 0.0,
        "y": 0.0
    },
    "m_Labels": []
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.SamplerStateMaterialSlot",
    "m_ObjectId": "f5c40879f9ea4b1092798a2a2f2badca",
    "m_Id": 0,
    "m_DisplayName": "sampleState",
    "m_SlotType": 1,
    "m_Hidden": false,
    "m_ShaderOutputName": "Out",
    "m_StageCapability": 3,
    "m_BareResource": false
}

{
    "m_SGVersion": 0,
    "m_Type": "UnityEditor.ShaderGraph.Vector2MaterialSlot",
    "m_ObjectId": "fcd8fafae89a48ba85b4a98c2f27077e",
    "m_Id": 1,
    "m_DisplayName": "Out_Vector4",
    "m_SlotType": 0,
    "m_Hidden": false,
    "m_ShaderOutputName": "Out_Vector4",
    "m_StageCapability": 3,
    "m_Value": {
        "x": 0.0,
        "y": 0.0
    },
    "m_DefaultValue": {
        "x": 0.0,
        "y": 0.0
    },
    "m_Labels": []
}

